import React, { useState } from 'react';
import { FileText, Download, Users, Target, Settings, Database, GitBranch, BookOpen, CheckCircle } from 'lucide-react';

const StudentExchangeSystemPDF = () => {
  const handleDownload = () => {
    window.print();
  };

  return (
    <div className="min-h-screen bg-white">
      {/* Print Styles */}
      <style>{`
        @media print {
          body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
          .no-print { display: none !important; }
          .page-break { page-break-before: always; }
        }
      `}</style>

      {/* Header with Download Button */}
      <div className="no-print fixed top-4 right-4 z-50">
        <button 
          onClick={handleDownload}
          className="flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-lg transition-all"
        >
          <Download className="w-5 h-5" />
          PDF İndir
        </button>
      </div>

      <div className="max-w-5xl mx-auto p-12">
        
        {/* Cover Page */}
        <div className="text-center mb-16 pb-16 border-b-4 border-blue-600">
          <div className="mb-8">
            <FileText className="w-24 h-24 mx-auto text-blue-600 mb-4" />
          </div>
          <h1 className="text-5xl font-bold text-gray-900 mb-4">Öğrenci Takas Sistemi</h1>
          <h2 className="text-2xl text-gray-600 mb-8">Gereksinim Analizi ve Kavramsal Tasarım</h2>
          
          <div className="bg-blue-50 rounded-lg p-8 text-left max-w-3xl mx-auto mt-12">
            <h3 className="font-bold text-lg mb-3 text-blue-900">Özet</h3>
            <p className="text-gray-700 mb-4 leading-relaxed">
              Bu doküman bir öğrenci takas sistemi için kapsamlı gereksinim analizi, iş kuralları, 
              kavramsal veri modeli ve kullanıcı senaryolarını içerir.
            </p>
            <h3 className="font-bold text-lg mb-3 text-blue-900">Amaç</h3>
            <p className="text-gray-700 leading-relaxed">
              Kullanıcı yönetimi, beceri eşleştirme, proje yönetimi, mentorluk, mesajlaşma ve 
              değerlendirme sistemlerini kapsayan bir bilgi takas platformu için başlangıç modelini sağlamaktır.
            </p>
          </div>

          <div className="mt-12 pt-8 border-t border-gray-300">
            <p className="text-sm text-gray-600 mb-2">Proje Ekibi</p>
            <p className="text-gray-800 font-semibold">
              Emircan Can • Melike Yetmen • Muhammet Temel • Pelin Ateş
            </p>
            <p className="text-sm text-gray-500 mt-4">2025</p>
          </div>
        </div>

        {/* Table of Contents */}
        <div className="mb-16 page-break">
          <h2 className="text-3xl font-bold mb-8 text-gray-900 border-b-2 border-blue-600 pb-3">İçindekiler</h2>
          <div className="space-y-3 text-lg">
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>1. Paydaşlar</span>
              <span className="text-gray-500">3</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>2. Amaçlar ve Kapsam</span>
              <span className="text-gray-500">4</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>3. Sorun Tanımı</span>
              <span className="text-gray-500">5</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>4. İşlevsel Gereksinimler</span>
              <span className="text-gray-500">6</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>5. Fonksiyonel Olmayan Gereksinimler</span>
              <span className="text-gray-500">8</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>6. İş Kuralları</span>
              <span className="text-gray-500">9</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>7. Kavramsal Varlık Listesi</span>
              <span className="text-gray-500">10</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>8. İlişkiler ve Kardinaliteler</span>
              <span className="text-gray-500">12</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>9. Kavramsal ER Diyagram</span>
              <span className="text-gray-500">13</span>
            </div>
            <div className="flex justify-between border-b border-gray-200 pb-2">
              <span>10. Kullanıcı Senaryoları</span>
              <span className="text-gray-500">14</span>
            </div>
          </div>
        </div>

        {/* 1. Paydaşlar */}
        <div className="mb-16 page-break">
          <div className="flex items-center gap-3 mb-6">
            <Users className="w-8 h-8 text-blue-600" />
            <h2 className="text-3xl font-bold text-gray-900">1. Paydaşlar</h2>
          </div>
          <div className="grid grid-cols-2 gap-6">
            <div className="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-600">
              <h3 className="font-bold text-blue-900 mb-2">Proje Geliştiriciler</h3>
              <p className="text-gray-700 text-sm">Sistem geliştirme ve bakım ekibi</p>
            </div>
            <div className="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-600">
              <h3 className="font-bold text-blue-900 mb-2">Proje Yöneticisi</h3>
              <p className="text-gray-700 text-sm">Proje koordinasyonu ve yönetimi</p>
            </div>
            <div className="bg-green-50 p-6 rounded-lg border-l-4 border-green-600">
              <h3 className="font-bold text-green-900 mb-2">Kullanıcılar (Öğrenciler)</h3>
              <p className="text-gray-700 text-sm">Beceri takası ve proje iş birliği yapan bireyler</p>
            </div>
            <div className="bg-green-50 p-6 rounded-lg border-l-4 border-green-600">
              <h3 className="font-bold text-green-900 mb-2">Mentorlar</h3>
              <p className="text-gray-700 text-sm">Deneyim ve bilgi paylaşan kullanıcılar</p>
            </div>
            <div className="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-600">
              <h3 className="font-bold text-purple-900 mb-2">Denetçiler</h3>
              <p className="text-gray-700 text-sm">Sistem güvenliği ve etik uyumluluk kontrolü</p>
            </div>
            <div className="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-600">
              <h3 className="font-bold text-purple-900 mb-2">Üniversite Kurumları</h3>
              <p className="text-gray-700 text-sm">Akademik destek ve iş birliği</p>
            </div>
          </div>
        </div>

        {/* 2. Amaçlar ve Kapsam */}
        <div className="mb-16 page-break">
          <div className="flex items-center gap-3 mb-6">
            <Target className="w-8 h-8 text-blue-600" />
            <h2 className="text-3xl font-bold text-gray-900">2. Amaçlar ve Kapsam</h2>
          </div>
          
          <div className="bg-gradient-to-r from-blue-50 to-indigo-50 p-8 rounded-lg mb-8">
            <h3 className="font-bold text-xl mb-4 text-blue-900">Ana Amaç</h3>
            <p className="text-gray-800 leading-relaxed">
              Kullanıcıların kişisel ve akademik gelişim süreçlerini desteklemek üzere karşılıklı 
              bilgi ve deneyim paylaşımına dayalı bir öğrenme ortamı oluşturmak. Kullanıcılar, sahip 
              oldukları uzmanlık veya yetkinlik alanlarını, kendi gelişimlerini hedefledikleri farklı 
              bir uzmanlık alanında bilgi edinmek amacıyla bir değişim aracı olarak kullanacaklardır.
            </p>
          </div>

          <h3 className="font-bold text-xl mb-4 text-gray-900">Kapsam</h3>
          <div className="grid grid-cols-2 gap-4">
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-lg">
              <CheckCircle className="w-5 h-5 text-green-600 mt-1 flex-shrink-0" />
              <span className="text-gray-700">Kullanıcı kayıt ve profil yönetimi</span>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-lg">
              <CheckCircle className="w-5 h-5 text-green-600 mt-1 flex-shrink-0" />
              <span className="text-gray-700">Beceri eşleştirme ve takas sistemi</span>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-lg">
              <CheckCircle className="w-5 h-5 text-green-600 mt-1 flex-shrink-0" />
              <span className="text-gray-700">Proje oluşturma ve ekip arama</span>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-lg">
              <CheckCircle className="w-5 h-5 text-green-600 mt-1 flex-shrink-0" />
              <span className="text-gray-700">Mentorluk sistemi</span>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-lg">
              <CheckCircle className="w-5 h-5 text-green-600 mt-1 flex-shrink-0" />
              <span className="text-gray-700">Mesajlaşma ve görüşme yönetimi</span>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-lg">
              <CheckCircle className="w-5 h-5 text-green-600 mt-1 flex-shrink-0" />
              <span className="text-gray-700">Değerlendirme ve geri bildirim</span>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-lg">
              <CheckCircle className="w-5 h-5 text-green-600 mt-1 flex-shrink-0" />
              <span className="text-gray-700">Proje dokümanı paylaşımı</span>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-lg">
              <CheckCircle className="w-5 h-5 text-green-600 mt-1 flex-shrink-0" />
              <span className="text-gray-700">İlerleme takibi ve rozet sistemi</span>
            </div>
          </div>

          <div className="mt-8 bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded">
            <h3 className="font-bold text-lg mb-2 text-yellow-900">Hedef Kitle</h3>
            <p className="text-gray-700 leading-relaxed">
              Bilgi ve beceri paylaşımına açık, hedeflediği alanlarda gelişmek/uzmanlaşmak isteyen, 
              proje için ekip arkadaşları arayan veya bir projenin parçası olmak isteyen geniş bir 
              kullanıcı kitlesiyle birlikte özellikle üniversite öğrencileri üzerine odaklanmaktadır.
            </p>
          </div>
        </div>

        {/* 3. Sorun Tanımı */}
        <div className="mb-16 page-break">
          <h2 className="text-3xl font-bold mb-6 text-gray-900 border-b-2 border-blue-600 pb-3">3. Sorun Tanımı</h2>
          
          <div className="space-y-6">
            <div className="bg-red-50 border-l-4 border-red-500 p-6 rounded">
              <h3 className="font-bold text-red-900 mb-3">Mevcut Durum</h3>
              <p className="text-gray-700 leading-relaxed">
                Günümüzde öğrenciler, üniversite hayatı boyunca yalnızca kendi bölümlerindeki derslerle 
                sınırlı kalmamakta, farklı alanlarda da bilgi ve beceri edinme isteğinde bulunurlar. 
                Ancak bu istek çoğu zaman ek kurslar, ücretli eğitimler veya bireysel çabalarla 
                karşılanmaya çalışılmaktadır.
              </p>
            </div>

            <div className="bg-orange-50 border-l-4 border-orange-500 p-6 rounded">
              <h3 className="font-bold text-orange-900 mb-3">Sorunlar</h3>
              <ul className="space-y-2 text-gray-700">
                <li className="flex items-start gap-2">
                  <span className="text-orange-600 font-bold">•</span>
                  <span>Maddi imkânları sınırlı olan öğrenciler için erişim sorunları</span>
                </li>
                <li className="flex items-start gap-2">
                  <span className="text-orange-600 font-bold">•</span>
                  <span>Proje bazlı çalışmalarda ekip arkadaşı bulmakta zorluk</span>
                </li>
                <li className="flex items-start gap-2">
                  <span className="text-orange-600 font-bold">•</span>
                  <span>Farklı disiplinlerden bireylerle ortak çalışma ortamı eksikliği</span>
                </li>
                <li className="flex items-start gap-2">
                  <span className="text-orange-600 font-bold">•</span>
                  <span>İş hayatına hazırlık konusunda yetersiz pratik deneyim</span>
                </li>
              </ul>
            </div>

            <div className="bg-green-50 border-l-4 border-green-500 p-6 rounded">
              <h3 className="font-bold text-green-900 mb-3">Çözüm</h3>
              <p className="text-gray-700 leading-relaxed">
                Öğrencilerin becerilerini paylaşabilecekleri, eksik oldukları veya istedikleri 
                alanlarda destek alabilecekleri ve proje tabanlı ekip çalışmalarına katılabilecekleri, 
                çevrimiçi ve erişilebilir bir platform.
              </p>
            </div>
          </div>
        </div>

        {/* 4. İşlevsel Gereksinimler */}
        <div className="mb-16 page-break">
          <div className="flex items-center gap-3 mb-6">
            <Settings className="w-8 h-8 text-blue-600" />
            <h2 className="text-3xl font-bold text-gray-900">4. İşlevsel Gereksinimler</h2>
          </div>

          <div className="space-y-4">
            {[
              { title: 'Kullanıcı Kayıtları', desc: 'CRUD işlemleri, profil bilgileri (isim, yaş, bölüm, beceriler, hedefler, deneyim), kimlik doğrulama' },
              { title: 'Beceri Yönetimi', desc: 'Kullanıcıların sahip oldukları ve öğrenmek istedikleri becerileri tanımlama, beceri seviyesi belirleme, kategoriler' },
              { title: 'Eşleştirme Algoritması', desc: 'Sahip olunan ve istenen beceriler bazında otomatik eşleştirme, uyumluluk skoru hesaplama' },
              { title: 'Proje İlanları', desc: 'Proje oluşturma, ekip arkadaşı arama, gereken becerileri tanımlama, başvuru kabul/red sistemi' },
              { title: 'Mentorluk Sistemi', desc: 'Mentor-öğrenci eşleştirme, mentorluk seansları planlama, seans geçmişi takibi' },
              { title: 'Mesajlaşma', desc: 'Kullanıcılar arası mesajlaşma, grup mesajları (proje ekipleri için), bildirim sistemi' },
              { title: 'Görüşme Yönetimi', desc: 'Online görüşme planlama, görüşme kayıtları, görüşme sonrası notlar' },
              { title: 'Değerlendirme Sistemi', desc: 'Kullanıcılar arası puanlama (1-5 yıldız), yazılı geri bildirim, değerlendirme geçmişi' },
              { title: 'Proje Dokümantasyonu', desc: 'Proje dosyaları yükleme, versiyon kontrolü, ekip üyelerine erişim yetkilendirme' },
              { title: 'İlerleme Takibi', desc: 'Tamamlanan seans sayısı, kazanılan beceriler, proje tamamlama oranları' },
              { title: 'Rozet ve Başarı Sistemi', desc: 'Belirli hedeflere ulaşan kullanıcılara rozet verme, profil üzerinde gösterme' },
              { title: 'Arama ve Filtreleme', desc: 'Beceri, bölüm, proje türü, lokasyon bazlı arama ve filtreleme özellikleri' },
              { title: 'Raporlama', desc: 'Kullanıcı aktivite raporları, en çok aranan beceriler, proje tamamlama istatistikleri' },
              { title: 'Bildirim Sistemi', desc: 'Yeni eşleşme, mesaj, proje başvurusu, seans hatırlatıcıları için bildirim' }
            ].map((req, idx) => (
              <div key={idx} className="bg-gray-50 border-l-4 border-blue-500 p-4 rounded">
                <h3 className="font-bold text-blue-900 mb-1">{req.title}</h3>
                <p className="text-gray-700 text-sm">{req.desc}</p>
              </div>
            ))}
          </div>
        </div>

        {/* 5. Fonksiyonel Olmayan Gereksinimler */}
        <div className="mb-16 page-break">
          <h2 className="text-3xl font-bold mb-6 text-gray-900 border-b-2 border-blue-600 pb-3">
            5. Fonksiyonel Olmayan Gereksinimler
          </h2>

          <div className="grid grid-cols-1 gap-4">
            {[
              { title: 'Güvenlik', content: 'Kullanıcı kimlik doğrulama (OAuth2, JWT), veri şifreleme, rol tabanlı erişim kontrolü, kişisel veri koruma (KVKK uyumlu)', color: 'red' },
              { title: 'Performans', content: '1000+ eş zamanlı kullanıcı desteği, ana sayfalar <2 sn yüklenmeli, arama sonuçları <1 sn dönmeli', color: 'green' },
              { title: 'Ölçeklenebilirlik', content: 'Kullanıcı sayısı artışına uyum sağlayabilir mimari, yatay ölçeklendirme desteği', color: 'blue' },
              { title: 'Kullanılabilirlik', content: 'Sezgisel kullanıcı arayüzü, mobil uyumlu (responsive) tasarım, erişilebilirlik standartları', color: 'purple' },
              { title: 'Yedekleme & Kurtarma', content: 'Günlük otomatik yedekleme, 30 günlük yedek saklama, disaster recovery planı', color: 'yellow' },
              { title: 'Entegrasyon', content: 'Üniversite bilgi sistemleri ile entegrasyon, e-posta bildirimleri, takvim senkronizasyonu', color: 'indigo' },
              { title: 'Çok Dilli Destek', content: 'Türkçe öncelikli, İngilizce destek, ileride diğer diller', color: 'pink' },
              { title: 'Denetim', content: 'Tüm önemli işlemler için audit log, kullanıcı aktivite izleme, güvenlik olayları loglama', color: 'gray' }
            ].map((req, idx) => (
              <div key={idx} className={`bg-${req.color}-50 border-l-4 border-${req.color}-500 p-4 rounded`}>
                <h3 className={`font-bold text-${req.color}-900 mb-2`}>{req.title}</h3>
                <p className="text-gray-700 text-sm">{req.content}</p>
              </div>
            ))}
          </div>
        </div>

        {/* 6. İş Kuralları */}
        <div className="mb-16 page-break">
          <h2 className="text-3xl font-bold mb-6 text-gray-900 border-b-2 border-blue-600 pb-3">6. İş Kuralları</h2>
          
          <div className="space-y-3">
            {[
              'Her kullanıcının en az bir becerisi olmalıdır (sahip olunan veya öğrenilmek istenen).',
              'Bir kullanıcı birden fazla projede yer alabilir; bir projeye birden fazla kullanıcı katılabilir (M:N).',
              'Mentorluk seansları en az bir mentor ve bir öğrenci gerektirir.',
              'Değerlendirme yalnızca tamamlanmış seans veya proje sonrasında yapılabilir.',
              'Proje ilanına başvuru yapabilmek için kullanıcının ilgili becerilere sahip olduğunu belirtmesi gerekir.',
              'Bir kullanıcı kendisini değerlendiremez.',
              'Mesajlaşma sadece eşleşmiş veya aynı projede olan kullanıcılar arasında yapılabilir.',
              'Proje sahibi, proje ekibindeki kullanıcıları onaylama veya çıkarma yetkisine sahiptir.',
              'Etik dışı davranış bildirilen kullanıcılar incelemeye alınır ve gerekirse hesap askıya alınır.',
              'Silme işlemlerinde soft-delete kullanılır (veri bütünlüğü ve denetim için).',
              'Ticari amaçlı kullanım yasaktır, sistem yalnızca eğitim ve gelişim amaçlıdır.',
              'Her görüşme öncesi karşılıklı onay gereklidir.'
            ].map((rule, idx) => (
              <div key={idx} className="flex items-start gap-3 bg-gray-50 p-4 rounded">
                <span className="font-bold text-blue-600 text-lg">{idx + 1}.</span>
                <span className="text-gray-700">{rule}</span>
              </div>
            ))}
          </div>
        </div>

        {/* 7. Kavramsal Varlık Listesi */}
        <div className="mb-16 page-break">
          <div className="flex items-center gap-3 mb-6">
            <Database className="w-8 h-8 text-blue-600" />
            <h2 className="text-3xl font-bold text-gray-900">7. Kavramsal Varlık Listesi</h2>
          </div>
          <p className="text-gray-600 mb-6 italic">PK = Primary Key, FK = Foreign Key</p>

          <div className="space-y-4">
            {[
              { name: 'User (Kullanıcı)', fields: 'user_id (PK), email (unique), password_hash, first_name, last_name, birth_date, department, university, bio, profile_picture, registration_date, last_login, status, average_rating' },
              { name: 'Skill (Beceri)', fields: 'skill_id (PK), skill_name (unique), category, description' },
              { name: 'UserSkill (Kullanıcı Becerisi)', fields: 'user_skill_id (PK), user_id (FK), skill_id (FK), skill_type (owned/wanted), proficiency_level (beginner/intermediate/advanced), years_of_experience' },
              { name: 'Match (Eşleşme)', fields: 'match_id (PK), user1_id (FK), user2_id (FK), match_date, compatibility_score, status (pending/accepted/completed/cancelled), exchange_type (skill_swap/mentorship)' },
              { name: 'Session (Seans)', fields: 'session_id (PK), match_id (FK), session_date, duration_minutes, topic, notes, status (scheduled/completed/cancelled), meeting_link' },
              { name: 'Project (Proje)', fields: 'project_id (PK), owner_id (FK->User), title, description, category, required_skills, team_size_limit, start_date, expected_end_date, status (open/in_progress/completed/cancelled), created_at' },
              { name: 'ProjectMember (Proje Üyesi)', fields: 'member_id (PK), project_id (FK), user_id (FK), role (owner/member), join_date, status (pending/approved/active/left), contribution_notes' },
              { name: 'Message (Mesaj)', fields: 'message_id (PK), sender_id (FK->User), receiver_id (FK->User), project_id (FK, nullable), content, sent_at, read_at, message_type (direct/group)' },
              { name: 'Review (Değerlendirme)', fields: 'review_id (PK), reviewer_id (FK->User), reviewee_id (FK->User), session_id (FK, nullable), project_id (FK, nullable), rating (1-5), comment, review_date, review_type (session/project)' },
              { name: 'Document (Doküman)', fields: 'document_id (PK), project_id (FK), uploaded_by (FK->User), file_name, file_path, file_type, file_size, upload_date, version, description' },
              { name: 'Badge (Rozet)', fields: 'badge_id (PK), badge_name, description, icon, criteria, badge_type (skill/participation/achievement)' },
              { name: 'UserBadge (Kullanıcı Rozeti)', fields: 'user_badge_id (PK), user_id (FK), badge_id (FK), earned_date' },
              { name: 'Notification (Bildirim)', fields: 'notification_id (PK), user_id (FK), notification_type, content, related_id, created_at, read_at, is_read' },
              {
